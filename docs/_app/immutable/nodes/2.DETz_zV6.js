import{f as $,a as O,t as Ya}from"../chunks/D-ywLGp8.js";import{i as Pa}from"../chunks/BvaWAjWP.js";import{l as ba,b as Ua,ar as Ma,c as ca,h as V,Q as Ja,a as Ka,B as s,as as Qa,r as Xa,H as Za,s as wa,d as da,n as ia,Y as ja,ap as ae,a8 as Ca,i as J,m as Ea,t as ee,at as L,$ as Sa,an as Fa,au as te,av as Oa,aw as Ra,j as qa,p as re,ax as se,ay as ha,q as ne,az as le,Z as ie,aA as oe,aB as ve,am as ue,k as fe,aC as ce,aD as de,x as he,a0 as _e,aE as me,G as ge,J as U,K as pe,aF as k,aG as be,M as E,P as T,O as m,a9 as ya}from"../chunks/BgoaX-cY.js";import{e as oa,s as W}from"../chunks/DVfOLlN9.js";import{i as _a}from"../chunks/giTryMSB.js";import{r as Na}from"../chunks/Xwq6o0FY.js";function aa(a,e){return e}function Ee(a,e,t){for(var r=[],n=e.length,l=0;l<n;l++)oe(e[l].e,r,!0);ve(r,()=>{var i=r.length===0&&t!==null;if(i){var u=t,o=u.parentNode;ue(o),o.append(u),a.items.clear(),R(a,e[0].prev,e[n-1].next)}for(var d=0;d<n;d++){var c=e[d];i||(a.items.delete(c.k),R(a,c.prev,c.next)),fe(c.e,!i)}a.first===e[0]&&(a.first=e[0].prev)})}function ea(a,e,t,r,n,l=null){var i=a,u=new Map,o=null,d=(e&Ma)!==0,c=(e&Oa)!==0,w=(e&Ra)!==0;if(d){var x=a;i=V?ca(Ja(x)):x.appendChild(ba())}V&&Ka();var g=null,q=Qa(()=>{var b=t();return te(b)?b:b==null?[]:Fa(b)}),C,v=!0;function h(){xe(M,C,i,e,r),g!==null&&(C.length===0?(g.fragment?(i.before(g.fragment),g.fragment=null):qa(g.effect),H.first=g.effect):re(g.effect,()=>{g=null}))}var H=Ua(()=>{C=s(q);var b=C.length;let z=!1;if(V){var B=Xa(i)===Za;B!==(b===0)&&(i=wa(),ca(i),da(!1),z=!0)}for(var N=new Set,I=J,D=null,K=ee(),F=0;F<b;F+=1){V&&ia.nodeType===ja&&ia.data===ae&&(i=ia,z=!0,da(!1));var G=C[F],Y=r(G,F),S=v?null:u.get(Y);S?(c&&Ca(S.v,G),w?Ca(S.i,F):S.i=F,K&&I.skipped_effects.delete(S.e)):(S=Ae(v?i:null,D,G,Y,F,n,e,t),v&&(S.o=!0,D===null?o=S:D.next=S,D=S),u.set(Y,S)),N.add(Y)}if(b===0&&l&&!g)if(v)g={fragment:null,effect:Ea(()=>l(i))};else{var ta=document.createDocumentFragment(),P=ba();ta.append(P),g={fragment:ta,effect:Ea(()=>l(P))}}if(V&&b>0&&ca(wa()),!v)if(K){for(const[ra,sa]of u)N.has(ra)||I.skipped_effects.add(sa.e);I.oncommit(h),I.ondiscard(()=>{})}else h();z&&da(!0),s(q)}),M={effect:H,items:u,first:o};v=!1,V&&(i=ia)}function xe(a,e,t,r,n){var l=(r&le)!==0,i=e.length,u=a.items,o=a.first,d,c=null,w,x=[],g=[],q,C,v,h;if(l)for(h=0;h<i;h+=1)q=e[h],C=n(q,h),v=u.get(C),v.a?.measure(),(w??=new Set).add(v);for(h=0;h<i;h+=1){if(q=e[h],C=n(q,h),v=u.get(C),a.first??=v,!v.o){v.o=!0;var H=c?c.next:o;R(a,c,v),R(a,v,H),ma(v,H,t),c=v,x=[],g=[],o=c.next;continue}if((v.e.f&ha)!==0&&(qa(v.e),l&&(v.a?.unfix(),(w??=new Set).delete(v))),v!==o){if(d!==void 0&&d.has(v)){if(x.length<g.length){var M=g[0],b;c=M.prev;var z=x[0],B=x[x.length-1];for(b=0;b<x.length;b+=1)ma(x[b],M,t);for(b=0;b<g.length;b+=1)d.delete(g[b]);R(a,z.prev,B.next),R(a,c,z),R(a,B,M),o=M,c=B,h-=1,x=[],g=[]}else d.delete(v),ma(v,o,t),R(a,v.prev,v.next),R(a,v,c===null?a.first:c.next),R(a,c,v),c=v;continue}for(x=[],g=[];o!==null&&o.k!==C;)(o.e.f&ha)===0&&(d??=new Set).add(o),g.push(o),o=o.next;if(o===null)continue;v=o}x.push(v),c=v,o=v.next}if(o!==null||d!==void 0){for(var N=d===void 0?[]:Fa(d);o!==null;)(o.e.f&ha)===0&&N.push(o),o=o.next;var I=N.length;if(I>0){var D=(r&Ma)!==0&&i===0?t:null;if(l){for(h=0;h<I;h+=1)N[h].a?.measure();for(h=0;h<I;h+=1)N[h].a?.fix()}Ee(a,N,D)}}l&&ne(()=>{if(w!==void 0)for(v of w)v.a?.apply()})}function Ae(a,e,t,r,n,l,i,u){var o=(i&Oa)!==0,d=(i&se)===0,c=o?d?L(t,!1,!1):Sa(t):t,w=(i&Ra)===0?n:Sa(n),x={i:w,v:c,k:r,a:null,e:null,o:!1,prev:e,next:null};try{if(a===null){var g=document.createDocumentFragment();g.append(a=ba())}return x.e=Ea(()=>l(a,c,w,u)),e!==null&&(e.next=x),x}finally{}}function ma(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,n=e?e.e.nodes_start:t,l=a.e.nodes_start;l!==null&&l!==r;){var i=ie(l);n.before(l),l=i}}function R(a,e,t){e===null?(a.first=t,a.effect.first=t&&t.e):(e.e.next&&(e.e.next.prev=null),e.next=t,e.e.next=t&&t.e),t===null?a.effect.last=e&&e.e:(t.e.prev&&(t.e.prev.next=null),t.prev=e,t.e.prev=e&&e.e)}function Ha(a){var e,t,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a)){var n=a.length;for(e=0;e<n;e++)a[e]&&(t=Ha(a[e]))&&(r&&(r+=" "),r+=t)}else for(t in a)a[t]&&(r&&(r+=" "),r+=t);return r}function Te(){for(var a,e,t=0,r="",n=arguments.length;t<n;t++)(a=arguments[t])&&(e=Ha(a))&&(r&&(r+=" "),r+=e);return r}function ke(a){return typeof a=="object"?Te(a):a??""}const Da=[...` 	
\r\f \v\uFEFF`];function we(a,e,t){var r=a==null?"":""+a;if(e&&(r=r?r+" "+e:e),t){for(var n in t)if(t[n])r=r?r+" "+n:n;else if(r.length)for(var l=n.length,i=0;(i=r.indexOf(n,i))>=0;){var u=i+l;(i===0||Da.includes(r[i-1]))&&(u===r.length||Da.includes(r[u]))?r=(i===0?"":r.substring(0,i))+r.substring(u+1):i=u}}return r===""?null:r}function va(a,e,t,r,n,l){var i=a.__className;if(V||i!==t||i===void 0){var u=we(t,r,l);(!V||u!==a.getAttribute("class"))&&(u==null?a.removeAttribute("class"):a.className=u),a.__className=t}else if(l&&n!==l)for(var o in l){var d=!!l[o];(n==null||d!==!!n[o])&&a.classList.toggle(o,d)}return l}function Ia(a,e,t=e){var r=new WeakSet;ce(a,"input",async n=>{var l=n?a.defaultValue:a.value;if(l=ga(a)?pa(l):l,t(l),J!==null&&r.add(J),await de(),l!==(l=e())){var i=a.selectionStart,u=a.selectionEnd,o=a.value.length;if(a.value=l??"",u!==null){var d=a.value.length;i===u&&u===o&&d>o?(a.selectionStart=d,a.selectionEnd=d):(a.selectionStart=i,a.selectionEnd=Math.min(u,d))}}}),(V&&a.defaultValue!==a.value||he(e)==null&&a.value)&&(t(ga(a)?pa(a.value):a.value),J!==null&&r.add(J)),_e(()=>{var n=e();if(a===document.activeElement){var l=me??J;if(r.has(l))return}ga(a)&&n===pa(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function ga(a){var e=a.type;return e==="number"||e==="range"}function pa(a){return a===""?null:+a}var Ce=$('<span class="tag svelte-1uha8ag"> <button class="svelte-1uha8ag">x</button></span>'),Se=$('<span class="badge success svelte-1uha8ag">Final</span>'),ye=$('<th class="svelte-1uha8ag"> </th>'),Ne=$("<td> </td>"),De=$('<tr><td class="state-col svelte-1uha8ag"> </td><!><td class="svelte-1uha8ag"><!></td></tr>'),Ie=$('<p class="empty-msg svelte-1uha8ag">Nenhuma análise ainda.</p>'),Me=$("<li><strong> </strong> <span> </span></li>"),Fe=$('<ul class="svelte-1uha8ag"></ul>'),Oe=$('<main class="container svelte-1uha8ag"><h1 class="svelte-1uha8ag">Analisador Léxico das Girls</h1> <section class="card config-section svelte-1uha8ag"><h2 class="svelte-1uha8ag">1. Configurar Autômato (Tokens Válidos)</h2> <div class="input-group svelte-1uha8ag"><input type="text" placeholder="Digite um token (ex: casa, abacaxi, etc.)" class="svelte-1uha8ag"/> <button class="btn-primary svelte-1uha8ag">+ Adicionar Token</button></div> <div class="tags svelte-1uha8ag"></div> <p class="hint svelte-1uha8ag">O autômato é reconstruído automaticamente ao adicionar os tokens.</p></section> <section class="card test-section svelte-1uha8ag"><h2 class="svelte-1uha8ag">2. Testar Entrada</h2> <div class="input-wrapper"><input type="text" placeholder="Digite aqui... (Use ESPAÇO para validar)"/> <div class="status-indicator svelte-1uha8ag">Estado Atual: <strong> </strong> <!></div></div></section> <section class="card table-section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Matriz de Transição de Estados</h2> <div class="table-responsive svelte-1uha8ag"><table class="svelte-1uha8ag"><thead><tr><th class="svelte-1uha8ag">Estado</th><!><th class="svelte-1uha8ag">Final</th></tr></thead><tbody></tbody></table></div></section> <section class="history-section svelte-1uha8ag"><h3>Histórico</h3> <!></section></main>');function ze(a,e){ge(e,!1);let t=L([]),r=L(""),n=L([]),l=L(new Set),i="abcdefghijklmnopqrstuvwxyz".split(""),u=L(0),o=L(""),d=L([]),c=L("neutro");function w(){k(n,[{id:0,movimentos:{}}]),k(l,new Set);let f=0;s(t).forEach(_=>{let p=0;for(let A of _)s(n)[p].movimentos[A]||(f++,s(n).push({id:f,movimentos:{}}),be(n,s(n)[p].movimentos[A]=f)),p=s(n)[p].movimentos[A];s(l).add(p)}),k(n,s(n)),v()}function x(){if(s(r)&&!s(t).includes(s(r))){const f=s(r).toLowerCase().replace(/[^a-z]/g,"");f.length>0&&(k(t,[...s(t),f]),w())}k(r,"")}function g(f){k(t,s(t).filter(_=>_!==f)),w()}function q(f){const _=f.data,p=f.target.value;if(p===""){v();return}if(_===" "||p.endsWith(" ")){C();return}const A=p.slice(-1).toLowerCase();if(!i.includes(A))return;const y=s(n)[s(u)]?.movimentos[A];y!==void 0?(k(u,y),k(c,"neutro")):k(c,"erro")}function C(){const f=s(l).has(s(u))&&s(c)!=="erro";k(d,[{palavra:s(o).trim(),aceito:f,estadoFinal:s(u)},...s(d)]),k(o,""),v()}function v(){k(u,0),k(c,"neutro")}w(),Pa();var h=Oe(),H=T(E(h),2),M=T(E(H),2),b=E(M);Na(b);var z=T(b,2);m(M);var B=T(M,2);ea(B,5,()=>s(t),aa,(f,_)=>{var p=Ce(),A=E(p),y=T(A);m(p),U(()=>W(A,`${s(_)??""} `)),oa("click",y,()=>g(s(_))),O(f,p)}),m(B),ya(2),m(H);var N=T(H,2),I=T(E(N),2),D=E(I);Na(D);let K;var F=T(D,2),G=T(E(F)),Y=E(G);m(G);var S=T(G,2);{var ta=f=>{var _=Se();O(f,_)};_a(S,f=>{s(l).has(s(u))&&f(ta)})}m(F),m(I),m(N);var P=T(N,2),ra=T(E(P),2),sa=E(ra),ua=E(sa),xa=E(ua),La=T(E(xa));ea(La,1,()=>i,aa,(f,_)=>{var p=ye(),A=E(p,!0);m(p),U(()=>W(A,s(_))),O(f,p)}),ya(),m(xa),m(ua);var Aa=T(ua);ea(Aa,5,()=>s(n),aa,(f,_)=>{var p=De();let A;var y=E(p),Q=E(y);m(y);var na=T(y);ea(na,1,()=>i,aa,(Z,j)=>{var la=Ne();let ka;var Ga=E(la,!0);m(la),U(Wa=>{ka=va(la,1,"svelte-1uha8ag",null,ka,Wa),W(Ga,s(_).movimentos[s(j)]!==void 0?`q${s(_).movimentos[s(j)]}`:"-")},[()=>({"active-cell":s(u)===s(_).id&&s(o).endsWith(s(j))})]),O(Z,la)});var X=T(na),fa=E(X);{var Ba=Z=>{var j=Ya("✅");O(Z,j)};_a(fa,Z=>{s(l).has(s(_).id)&&Z(Ba)})}m(X),m(p),U(()=>{A=va(p,1,"svelte-1uha8ag",null,A,{"active-row":s(u)===s(_).id}),W(Q,`q${s(_).id??""}`)}),O(f,p)}),m(Aa),m(sa),m(ra),m(P);var Ta=T(P,2),Va=T(E(Ta),2);{var $a=f=>{var _=Ie();O(f,_)},za=f=>{var _=Fe();ea(_,5,()=>s(d),aa,(p,A)=>{var y=Me(),Q=E(y),na=E(Q,!0);m(Q);var X=T(Q,2),fa=E(X);m(X),m(y),U(()=>{va(y,1,ke(s(A).aceito?"ok":"nok"),"svelte-1uha8ag"),W(na,s(A).palavra),W(fa,`-> ${s(A).aceito?"Reconhecido":"Rejeitado"} (Fim em q${s(A).estadoFinal??""})`)}),O(p,y)}),m(_),O(f,_)};_a(Va,f=>{s(d).length===0?f($a):f(za,!1)})}m(Ta),m(h),U(()=>{K=va(D,1,"svelte-1uha8ag",null,K,{error:s(c)==="erro",success:s(c)==="sucesso"}),W(Y,`q${s(u)??""}`)}),Ia(b,()=>s(r),f=>k(r,f)),oa("keydown",b,f=>f.key==="Enter"&&x()),oa("click",z,x),Ia(D,()=>s(o),f=>k(o,f)),oa("input",D,q),O(a,h),pe()}export{ze as component};
